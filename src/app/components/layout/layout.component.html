<app-header></app-header>
<div class="container-fluid">
  <div class="row ">
    <div class="col-md-12">
      <div class="toolbar">
        <button class="btn btn-sm btn-success float-right" (click)="layoutService.saveWidgets()">Save Widgets</button>
        <button class="btn btn-sm btn-info float-right" (click)="layoutService.addItem()">Add Widget</button>

        <!-- <div class="draggable" draggable="true" (dragend)="layoutService.dropItem('widget1')">widget 1</div>

        <div class="draggable" draggable="true" (dragend)="layoutService.dropItem('widget2')">widget 2</div> -->

      </div>
    </div>
  </div>

  <gridster [options]="options">
    <gridster-item *ngFor="let item of layout" [item]="item" (dragover)="layoutService.setDropId(item.id)">
      <h1>{{item.title}}
        <button class="btn delete" (click)="layoutService.deleteItem(item)"><img
            src='../../../assets/images/delete.png'></button>
      </h1>
      <div *ngIf="item.gridtype == 'iframe'; else elseBlock">
        <iframe class="remember" [src]="item.gridData | safe: 'resourceUrl'" width="100%" height="100%" frameborder="0"
          allowFullScreen="true"></iframe>
      </div>
      <ng-template #elseBlock>{{item.gridData}}</ng-template>
    </gridster-item>
  </gridster>
</div>